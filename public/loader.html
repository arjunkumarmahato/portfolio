<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap");

        :root {
            --base-100: #fff;
            --base-200: #d1d9b8;
            --base-300: #0f0f0f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Inter", sans-serif;
        }

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        p {
            text-transform: uppercase;
            font-weight: 500;
        }

        .hero {
            position: relative;
            width: 100%;
            height: 100svh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            transform: scale(1.25);
            will-change: transform;
        }

        .hero-copy p {
            color: var(--base-100);
        }

        .hero-copy p .word {
            position: relative;
            will-change: transform;
            transform: translateY(100%);
        }

        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100svh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--base-200);
            color: var(--base-300);
            will-change: opacity;
            z-index: 2;
        }

        .loader .counter {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .loader svg {
            width: 85%;
            height: 85%;
        }

        .loader svg path {
            fill: none;
        }

        .loader svg .orbit-text {
            fill: var(--base-300);
            text-transform: uppercase;
            font-size: 2.75rem;
            font-weight: 500;
        }

        @media (max-width: 1000px) {
            .loader svg {
                width: 100%;
                height: 100%;
            }

            .loader svg .orbit-text {
                font-size: 3rem;
            }
        }
    </style>
</head>

<body>
    <div class="loader">
        <svg viewBox="-425 -425 1850 1850" xmlns="http://www.w3.org/2000/svg">
            <path id="loader-orbit-1"
                d="M 500,-275 A 775,775 0 0,1 500,1275 A 775,775 0 0,1 500,-275 A 775,775 0 0,1 500,1275 A 775,775 0 0,1 500,-275 A 775,775 0 0,1 500,1275 A 775,775 0 0,1 499.99,-275" />

            <path id="loader-orbit-2"
                d="M 500,-200 A 700,700 0 0,1 500,1200 A 700,700 0 0,1 500,-200 A 700,700 0 0,1 500,1200 A 700,700 0 0,1 500,-200 A 700,700 0 0,1 500,1200 A 700,700 0 0,1 499.99,-200" />

            <path id="loader-orbit-3"
                d="M 500,-125 A 625,625 0 0,1 500,1125 A 625,625 0 0,1 500,-125 A 625,625 0 0,1 500,1125 A 625,625 0 0,1 500,-125 A 625,625 0 0,1 500,1125 A 625,625 0 0,1 499.99,-125" />

            <path id="loader-orbit-4"
                d="M 500,-50 A 550,550 0 0,1 500,1050 A 550,550 0 0,1 500,-50 A 550,550 0 0,1 500,1050 A 550,550 0 0,1 500,-50 A 550,550 0 0,1 500,1050 A 550,550 0 0,1 499.99,-50" />

            <path id="loader-orbit-5"
                d="M 500,25 A 475,475 0 0,1 500,975 A 475,475 0 0,1 500,25 A 475,475 0 0,1 500,975 A 475,475 0 0,1 500,25 A 475,475 0 0,1 500,975 A 475,475 0 0,1 499.99,25" />

            <path id="loader-orbit-6"
                d="M 500,100 A 400,400 0 0,1 500,900 A 400,400 0 0,1 500,100 A 400,400 0 0,1 500,900 A 400,400 0 0,1 500,100 A 400,400 0 0,1 500,900 A 400,400 0 0,1 499.99,100" />

            <path id="loader-orbit-7"
                d="M 500,175 A 325,325 0 0,1 500,825 A 325,325 0 0,1 500,175 A 325,325 0 0,1 500,825 A 325,325 0 0,1 500,175 A 325,325 0 0,1 500,825 A 325,325 0 0,1 499.99,175" />

            <path id="loader-orbit-8"
                d="M 500,250 A 250,250 0 0,1 500,750 A 250,250 0 0,1 500,250 A 250,250 0 0,1 500,750 A 250,250 0 0,1 500,250 A 250,250 0 0,1 500,750 A 250,250 0 0,1 499.99,250" />

            <text class="orbit-text">
                <textPath href="#loader-orbit-1" startOffset="30%" textLength="300">Developer</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-2" startOffset="31%" textLength="280">Frontend</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-3" startOffset="33%" textLength="240">Creative</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-4" startOffset="32%" textLength="260">Designer</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-5" startOffset="30%" textLength="290">Portfolio</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-6" startOffset="31%" textLength="200">Digital</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-7" startOffset="33%" textLength="210">Modern</textPath>
            </text>

            <text class="orbit-text">
                <textPath href="#loader-orbit-8" startOffset="32%" textLength="190">Design</textPath>
            </text>
        </svg>
        <div class="counter">
            <p>0</p>
        </div>
    </div>

    <section class="hero">
        <div class="hero-bg">
            <img src="/hero.jpg" alt="" />
        </div>
        <div class="hero-copy">
            <p>Your content begins here</p>
        </div>
    </section>

    <script>
        import gsap from "gsap";
        import { SplitText } from "gsap/SplitText";
        import { CustomEase } from "gsap/all";

        gsap.registerPlugin(SplitText, CustomEase);
        CustomEase.create("hop", "0.9, 0, 0.1, 1");

        let split = SplitText.create(".hero-copy p", {
            type: "words",
            mask: "words",
            wordsClass: "word",
        });

        const textPaths = document.querySelectorAll(".loader svg textPath");

        const startTextLengths = Array.from(textPaths).map((tp) => parseFloat(tp.getAttribute("textLength")));
        const startTextOffsets = Array.from(textPaths).map((tp) => parseFloat(tp.getAttribute("startOffset")));

        const targetTextLengths = [4000, 3500, 3250, 3000, 2500, 2000, 1500, 1250];
        const orbitRadii = [775, 700, 625, 550, 475, 400, 325, 250];

        const maxOrbitRadius = orbitRadii[0];
        const maxAnimDuration = 1.25;
        const minAnimDuration = 1;

        textPaths.forEach((textPath, index) => {
            const animationDelay = (textPaths.length - 1 - index) * 0.1;
            const currentOrbitRadius = orbitRadii[index];
            const currentDuration = minAnimDuration + (currentOrbitRadius / maxOrbitRadius) * (maxAnimDuration - minAnimDuration);

            const pathLength = 2 * Math.PI * currentOrbitRadius * 3;
            const textLengthIncrease = targetTextLengths[index] - startTextLengths[index];
            const offsetAdjustment = (textLengthIncrease / 2 / pathLength) * 100;
            const targetOffset = startTextOffsets[index] - offsetAdjustment;

            gsap.to(textPath, {
                attr: {
                    textLength: targetTextLengths[index],
                    startOffset: targetOffset + "%",
                },
                duration: currentDuration,
                delay: animationDelay,
                ease: "power2.inOut",
                yoyo: true,
                repeat: -1,
                repeatDelay: 0,
            });
        });

        let loaderRotation = 0;
        function animateRotation() {
            const spinDirection = Math.random() < 0.5 ? 1 : -1;
            loaderRotation += 25 * spinDirection;
            gsap.to("svg", {
                rotation: loaderRotation,
                duration: 2,
                ease: "power2.inOut",
                onComplete: animateRotation,
            });
        }
        animateRotation();

        const counterText = document.querySelector(".counter p");
        const count = { value: 0 };

        gsap.to(count, {
            value: 100,
            duration: 4,
            delay: 1,
            ease: "power1.out",
            onUpdate: () => { counterText.textContent = Math.floor(count.value); },
            onComplete: () => {
                gsap.to(".counter", { opacity: 0, duration: 0.5, delay: 1 });
            },
        });

        const orbitTextElements = document.querySelectorAll(".orbit-text");
        gsap.set(orbitTextElements, { opacity: 0 });

        const orbitTextsReversed = Array.from(orbitTextElements).reverse();
        gsap.to(orbitTextsReversed, {
            opacity: 1,
            duration: 0.75,
            stagger: 0.125,
            ease: "power1.out",
        });

        gsap.to(orbitTextsReversed, {
            opacity: 0,
            duration: 0.75,
            stagger: 0.1,
            delay: 6,
            ease: "power1.out",
            onComplete: function () {
                gsap.to(".loader", {
                    opacity: 0,
                    duration: 1,
                    onComplete: () => {
                        document.querySelector(".loader").remove();
                    },
                });

                gsap.to(".hero-bg", {
                    scale: 1,
                    duration: 2,
                    delay: -0.5,
                    ease: "hop",
                });

                gsap.to(".hero-copy p .word", {
                    y: 0,
                    duration: 2,
                    delay: -0.25,
                    stagger: 0.1,
                    ease: "hop",
                });
            },
        });
    </script>
</body>

</html>